(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c7a4f438"],{1276:function(e,t,n){"use strict";var r=n("d784"),a=n("44e7"),o=n("825a"),i=n("1d80"),s=n("4840"),c=n("8aa5"),l=n("50c4"),u=n("14c3"),d=n("9263"),p=n("d039"),h=[].push,f=Math.min,v=4294967295,g=!p((function(){return!RegExp(v,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(i(this)),o=void 0===n?v:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!a(e))return t.call(r,e,o);var s,c,l,u=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,g=new RegExp(e.source,p+"g");while(s=d.call(g,r)){if(c=g.lastIndex,c>f&&(u.push(r.slice(f,s.index)),s.length>1&&s.index<r.length&&h.apply(u,s.slice(1)),l=s[0].length,f=c,u.length>=o))break;g.lastIndex===s.index&&g.lastIndex++}return f===r.length?!l&&g.test("")||u.push(""):u.push(r.slice(f)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var a=i(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,a,n):r.call(String(a),t,n)},function(e,a){var i=n(r,e,this,a,r!==t);if(i.done)return i.value;var d=o(e),p=String(this),h=s(d,RegExp),x=d.unicode,m=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),y=new h(g?d:"^(?:"+d.source+")",m),k=void 0===a?v:a>>>0;if(0===k)return[];if(0===p.length)return null===u(y,p)?[p]:[];var b=0,R=0,_=[];while(R<p.length){y.lastIndex=g?R:0;var w,E=u(y,g?p:p.slice(R));if(null===E||(w=f(l(y.lastIndex+(g?0:R)),p.length))===b)R=c(p,R,x);else{if(_.push(p.slice(b,R)),_.length===k)return _;for(var O=1;O<=E.length-1;O++)if(_.push(E[O]),_.length===k)return _;R=b=w}}return _.push(p.slice(b)),_}]}),!g)},"14c3":function(e,t,n){var r=n("c6b6"),a=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"14c6":function(e,t,n){"use strict";n("67d1")},"44e7":function(e,t,n){var r=n("861d"),a=n("c6b6"),o=n("b622"),i=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},"63b6":function(e,t,n){"use strict";n("e7de")},"67d1":function(e,t,n){},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9263:function(e,t,n){"use strict";var r=n("ad6d"),a=n("9f7f"),o=RegExp.prototype.exec,i=String.prototype.replace,s=o,c=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=c||u||l;d&&(s=function(e){var t,n,a,s,d=this,p=l&&d.sticky,h=r.call(d),f=d.source,v=0,g=e;return p&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),g=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,v++),n=new RegExp("^(?:"+f+")",h)),u&&(n=new RegExp("^"+f+"$(?!\\s)",h)),c&&(t=d.lastIndex),a=o.call(p?n:d,g),p?a?(a.input=a.input.slice(v),a[0]=a[0].slice(v),a.index=d.lastIndex,d.lastIndex+=a[0].length):d.lastIndex=0:c&&a&&(d.lastIndex=d.global?a.index+a[0].length:t),u&&a&&a.length>1&&i.call(a[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(a[s]=void 0)})),a}),e.exports=s},"9f7f":function(e,t,n){"use strict";var r=n("d039");function a(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,n){"use strict";var r=n("23e7"),a=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b4c9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"mainContainer",staticStyle:{width:"100%",height:"100vh","background-color":"#f7f8fa"}},[n("div",{ref:"searchInputContainer"},[n("van-search",{staticClass:"search-input",attrs:{background:"#4fc08d",shape:"round",clearable:!1,placeholder:"请输入搜索关键词","input-align":"center"},on:{search:e.onSearch},scopedSlots:e._u([{key:"left-icon",fn:function(){return[n("van-icon",{staticStyle:{"font-size":"16px","padding-right":"10px"},attrs:{name:"search"}})]},proxy:!0},{key:"right-icon",fn:function(){return[n("van-icon",{staticStyle:{"font-size":"16px","padding-right":"10px"},attrs:{name:"records"},on:{click:e.onShowPopover}})]},proxy:!0}]),model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1),n("transition",{attrs:{name:"van-fade"}},[e.showPopover?n("div",{staticClass:"search-history"},[e._l(e.searchKeywordsList,(function(t){return n("van-cell",{key:t,attrs:{title:t},on:{click:function(n){return e.onChosenSearchKey(t)}}})})),n("van-icon",{staticStyle:{padding:"10px"},attrs:{name:"delete"},on:{click:e.onClearSearchHistory}})],2):e._e()]),n("div",[n("van-tabs",{attrs:{animated:"",swipeable:"",color:"#4fc08d","title-active-color":"#4fc08d",sticky:""}},[n("van-tab",{ref:"okRescTab",attrs:{title:e.$httpApi.BASE.OK.title}},[n("jump-category",{attrs:{"to-prefix":"Ok"}}),n("van-list",{staticStyle:{padding:"5px","background-color":"#f7f8fa"},attrs:{"immediate-check":!1,finished:e.okResc.finished,offset:10,"finished-text":"没有更多了"},on:{load:e.onLoadOkRescList},model:{value:e.okResc.loading,callback:function(t){e.$set(e.okResc,"loading",t)},expression:"okResc.loading"}},e._l(e.okResc.tableData.list,(function(t,r){return n("span",{key:r,staticStyle:{display:"block","text-align":"center",padding:"10px",color:"grey"},on:{click:function(n){return e.onOkRescDetail(t)}}},[e._v(" "+e._s(t.vod_name+"-"+t.type_name)+" ")])})),0)],1)],1)],1)],1)},a=[],o=n("b85c"),i=n("2909"),s=n("1da1"),c=(n("1276"),n("ac1f"),n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("van-icon",{attrs:{name:"plus"},on:{click:e.jump}})],1)}),l=[],u={name:"JumpCategory",props:["toPrefix"],methods:{jump:function(){var e=this.toPrefix+"MovCategoryPage";this.$router.push(e)}}},d=u,p=(n("14c6"),n("2877")),h=Object(p["a"])(d,c,l,!1,null,"e599526c",null),f=h.exports,v={name:"SearchMovie",components:{"jump-category":f},data:function(){return{keywords:"",showPopover:!1,activeTab:0,mainContainer:null,searchKeywordsList:[],searchInputContainer:null,okRescTab:null,okResc:{tableData:"",loading:!1,finished:!0,searchPageParams:{ac:"list",wd:this.keywords,t:null,pg:1}}}},methods:{onSearch:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.keywords){t.next=2;break}return t.abrupt("return");case 2:return e.rememberSearchKeywords(),t.next=5,e.onSearchOk();case 5:case"end":return t.stop()}}),t)})))()},rememberSearchKeywords:function(){if(this.keywords){var e=this.$cacheUtil.LOCAL_STORAGE.get(this.$cacheConstant.SEARCH.KEY_SEARCH_KEYWORDS);e||(e=[]),-1===e.indexOf(this.keywords)&&(10<=e.length&&e.pop(),e.unshift(this.keywords),this.$cacheUtil.LOCAL_STORAGE.set(this.$cacheConstant.SEARCH.KEY_SEARCH_KEYWORDS,e))}},onShowPopover:function(){var e=this.$cacheUtil.LOCAL_STORAGE.get(this.$cacheConstant.SEARCH.KEY_SEARCH_KEYWORDS);e?(this.searchKeywordsList=e,this.showPopover=!this.showPopover):this.$toast.fail("还没有历史数据记录")},onChosenSearchKey:function(e){this.showPopover=!1,e&&(this.keywords=e,this.onSearch())},onSearchOk:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.okResc.searchPageParams.wd=t.keywords,n.next=3,t.$httpUtil.http(t.$httpApi.SERVICE.OK.page,t.okResc.searchPageParams);case 3:r=n.sent,r?e?(a=t.okResc.tableData.list).push.apply(a,Object(i["a"])(r.list)):t.okResc.tableData=r:t.okResc.finished=!0,t.okResc.searchPageParams.pg>=r.pagecount?t.okResc.finished=!0:t.okResc.finished=!1,t.okResc.loading=!1;case 7:case"end":return n.stop()}}),n)})))()},onLoadOkRescList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.okResc.searchPageParams.pg<e.okResc.tableData.pagecount)){t.next=4;break}return e.okResc.searchPageParams.pg=e.okResc.searchPageParams.pg+1,t.next=4,e.onSearchOk(!0);case 4:case"end":return t.stop()}}),t)})))()},onOkRescDetail:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,c,l,u,d,p,h,f,v,g,x,m,y,k,b,R,_,w,E,O,S,P,C,$,I,A,L,D,U,K,j,T;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$httpUtil.http(t.$httpApi.SERVICE.OK.detail,{ac:"detail",ids:e.vod_id});case 2:if(r=n.sent,1!==r.code&&t.$toast.fail("请求失败！"),r.list&&!(0>=r.list.length)&&r.list[0].vod_play_url){n.next=7;break}return t.$toast("当前视频播放地址已被删除，无法播放！"),n.abrupt("return");case 7:a=[],i=Object(o["a"])(r.list);try{for(i.s();!(s=i.n()).done;){for(c=s.value,l={},l.vodId=c.vod_id,l.vodName=c.vod_name,l.vodSub=c.vod_sub,l.vodDirector=c.vod_director,l.vodClass=c.vod_class,l.vodPic=c.vod_pic,l.vodActor=c.vod_actor,l.vodBlurb=c.vod_blurb,l.vodRemarks=c.vod_remarks,l.vodArea=c.vod_area,l.vodLang=c.vod_lang,l.vodYear=c.vod_year,l.vodTime=c.vod_time,l.vodContent=c.vod_content,l.vodPlayFrom=c.vod_play_from,l.vodPlayServer=c.vod_play_server,l.typeName=c.type_name,l.isCollected=!1,l.downloadUrlList=[],u=c.vod_play_from,d=c.vod_play_note,p=c.vod_play_url.split(d),h=u.split(d),l.playVOList=[],f=0;f<p.length;f++){v=h[f],-1<v.indexOf("m3u8")&&(v="m3u8"),g={},g.vodPlayFrom=v,x=[],m=Object(o["a"])(p[f].split("#"));try{for(m.s();!(y=m.n()).done;)k=y.value,b={},R=k.split("$"),b.vodPlayFrom=v,b.playName=R[0],b.playUrl=R[1],x.push(b)}catch(N){m.e(N)}finally{m.f()}g.playDetailVOList=x,l.rescPlatform="ok",l.rescPlatformDesc="ok资源网",l.playVOList.push(g)}if(_=c.vod_down_url,_){w=Object(o["a"])(_.split("#"));try{for(w.s();!(E=w.n()).done;)O=E.value,S=O.split("$"),P={},P.text=S[0],P.value=S[1],l.downloadUrlList.push(P)}catch(N){w.e(N)}finally{w.f()}}a.push(l)}}catch(N){i.e(N)}finally{i.f()}return C=a[0],n.next=13,t.$dexieUtil.getInstance().play_collection.where("vodName").equals(C.vodName).and((function(e){return e.rescPlatform===C.rescPlatform})).and((function(e){return e.vodId===C.vodId})).count();case 13:$=n.sent,0<$&&(C.isCollected=!0),t.$store.commit("updateMovieVOList",a),t.$store.commit("updateRightNowMovieVO",a[0]),I=a[0].playVOList[0].playDetailVOList[0],A=Object(o["a"])(a[0].playVOList),n.prev=19,A.s();case 21:if((L=A.n()).done){n.next=43;break}D=L.value,U=Object(o["a"])(D.playDetailVOList),n.prev=24,U.s();case 26:if((K=U.n()).done){n.next=33;break}if(j=K.value,!(-1<j.playUrl.indexOf("m3u8")||-1<j.playUrl.indexOf("mp4"))){n.next=31;break}return I=j,n.abrupt("break",33);case 31:n.next=26;break;case 33:n.next=38;break;case 35:n.prev=35,n.t0=n["catch"](24),U.e(n.t0);case 38:return n.prev=38,U.f(),n.finish(38);case 41:n.next=21;break;case 43:n.next=48;break;case 45:n.prev=45,n.t1=n["catch"](19),A.e(n.t1);case 48:return n.prev=48,A.f(),n.finish(48);case 51:return t.$store.commit("updateRightNowMovieDetailVO",I),n.next=54,t.$dexieUtil.getInstance().play_history.where("vodName").equals(C.vodName).and((function(e){return e.vodId===C.vodId})).and((function(e){return e.rescPlatform===C.rescPlatform})).count();case 54:if(T=n.sent,0!==T){n.next=59;break}return C.createTime=t.$dayjs().format("YYYY-MM-DD HH:mm:ss"),n.next=59,t.$dexieUtil.getInstance().play_history.add(C);case 59:return n.next=61,t.$router.push("/Play");case 61:case"end":return n.stop()}}),n,null,[[19,45,48,51],[24,35,38,41]])})))()},onClearSearchHistory:function(){this.$cacheUtil.LOCAL_STORAGE.remove(this.$cacheConstant.SEARCH.KEY_SEARCH_KEYWORDS),this.$toast.success("清除成功！"),this.showPopover=!1}}},g=v,x=(n("63b6"),Object(p["a"])(g,r,a,!1,null,"4b68a2c0",null));t["default"]=x.exports},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),a=n("d039"),o=n("b622"),i=n("9263"),s=n("9112"),c=o("species"),l=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=o("replace"),p=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),h=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var f=o(e),v=!a((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),g=v&&!a((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!v||!g||"replace"===e&&(!l||!u||p)||"split"===e&&!h){var x=/./[f],m=n(f,""[e],(function(e,t,n,r,a){return t.exec===i?v&&!a?{done:!0,value:x.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),y=m[0],k=m[1];r(String.prototype,e,y),r(RegExp.prototype,f,2==t?function(e,t){return k.call(e,this,t)}:function(e){return k.call(e,this)})}d&&s(RegExp.prototype[f],"sham",!0)}},e7de:function(e,t,n){}}]);